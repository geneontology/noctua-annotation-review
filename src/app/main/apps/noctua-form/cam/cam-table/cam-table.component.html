<div class="w-100-p p-0 noc-cam-table">
  <div class="noc-summary-bar" fxLayout="row" fxLayoutAlign="start center">
    <span class='noc-title mr-12'>
      ACTIVITIES
    </span>
    <div *ngIf="cam.violations?.length>0" class="noc-error" fxLayout="row" fxLayoutAlign="start center">
      <mat-chip class="noc-error-chip" fxLayout="row" fxLayoutAlign="start center" (click)="displayCamErrors()">
        <div class="noc-icon">
          <fa-icon [icon]="['fas', 'exclamation-triangle']"></fa-icon>
        </div>
        <div fxFlex="" class="noc-chip-label">
          {{cam.violations?.length}} Errors Found
        </div>
      </mat-chip>
    </div>
    <span fxFlex></span>
    <!-- <button mat-button class="" color="primary" (click)="resetModel(cam)">
      Reset Me
    </button>
    <button mat-button class="" color="primary" (click)="storedModel(cam)">
      Stored
    </button> -->
    <button mat-icon-button class="" fxFlex="40px" color="primary" [matMenuTriggerFor]="activityOptionMenu">
      <mat-icon>more_vert</mat-icon>
    </button>
    <mat-menu #activityOptionMenu="matMenu" class="noc-dropdown-menu">
      <button mat-menu-item class="" (click)="expandAll(true)">
        Expand All
      </button>
      <button mat-menu-item class="" (click)="expandAll(false)">
        Collapse All
      </button>
    </mat-menu>
  </div>
  <div class="w-100-p noc-cam-table-body">
    <div *ngIf="cam?.loading.status" class="noc-loading-container" fxLayout="column" fxLayoutAlign="center center">
      <mat-progress-spinner class="example-margin" [color]="loadingSpinner.color" [mode]="loadingSpinner.mode">
      </mat-progress-spinner>
      <h3>
        {{cam?.loading.message}}
      </h3>
    </div>
    <div *ngFor="let activity of cam.activities" [attr.id]="activity.displayId" class="w-100-p"
      [ngClass]="{'noc-selected': activity.displayId===camsService.currentMatch?.activityDisplayId}">

      <noc-activity-table [options]="options" [cam]="cam" [activity]="activity" class="noc-activities-table-body"
        fxLayout="row" fxLayoutAlign="start center">
      </noc-activity-table>
    </div>
  </div>
</div>